<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Support | Holiday Draw Names</title>
    <meta name="description" content="Get help with your Secret Santa group. Submit a support ticket and we'll get back to you soon.">
    <meta name="robots" content="noindex, nofollow">
    <link rel="canonical" href="https://holidaydrawnames.com/support.html">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="apple-touch-icon" href="/apple-touch-icon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="design-tokens.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="toast.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer onerror="console.error('Failed to load Supabase');"></script>
    <script src="config.js" defer onerror="console.error('Failed to load config.js');"></script>
    <script src="analytics.js" defer onerror="console.warn('Analytics failed to load');"></script>
    <script src="toast.js" defer onerror="console.error('Failed to load toast.js');"></script>
    <script src="support.js" defer onerror="console.error('Failed to load support.js');"></script>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <div class="container" id="main-content">
        <header>
            <h1>üéÑ Holiday Draw Names</h1>
            <p class="tagline">Customer Support</p>
            <nav class="breadcrumb" aria-label="Breadcrumb">
                <ol class="breadcrumb__list">
                    <li class="breadcrumb__item">
                        <a href="/" class="breadcrumb__link">Home</a>
                    </li>
                    <li class="breadcrumb__item breadcrumb__current">
                        <span aria-current="page">Support</span>
                    </li>
                </ol>
            </nav>
        </header>

        <main>
            <div class="card">
                <h2>Need Help?</h2>
                <p>We're here to help! Fill out the form below and we'll get back to you as soon as possible.</p>
                
                <form id="supportForm" class="support-form">
                    <!-- Honeypot field (hidden from users, bots will fill it) -->
                    <div class="form-group" style="position: absolute; left: -9999px; opacity: 0; pointer-events: none;">
                        <label for="supportWebsite">Website (leave blank)</label>
                        <input 
                            type="text" 
                            id="supportWebsite" 
                            name="website" 
                            tabindex="-1"
                            autocomplete="off"
                        >
                    </div>

                    <div class="form-group">
                        <label for="supportName">Your Name <span style="color: var(--primary-red);">*</span></label>
                        <input 
                            type="text" 
                            id="supportName" 
                            name="name" 
                            required 
                            maxlength="120"
                            autocomplete="name"
                            placeholder="Enter your full name"
                            aria-describedby="name-help"
                        >
                        <small id="name-help" class="sr-only">Enter your full name (max 120 characters)</small>
                    </div>

                    <div class="form-group">
                        <label for="supportEmail">Your Email <span style="color: var(--primary-red);">*</span></label>
                        <input 
                            type="email" 
                            id="supportEmail" 
                            name="email" 
                            required 
                            maxlength="255"
                            autocomplete="email"
                            placeholder="you@example.com"
                            aria-describedby="email-help"
                        >
                        <small id="email-help">We'll use this to respond to your ticket</small>
                    </div>

                    <div class="form-group">
                        <label for="supportGroupCode">Group Code (Optional)</label>
                        <input 
                            type="text" 
                            id="supportGroupCode" 
                            name="group_code" 
                            maxlength="50"
                            placeholder="e.g., SANTA2024"
                            aria-describedby="group-code-help"
                        >
                        <small id="group-code-help">If your question is about a specific group, enter the group code here</small>
                    </div>

                    <div class="form-group">
                        <label for="supportMessage">Message <span style="color: var(--primary-red);">*</span></label>
                        <textarea 
                            id="supportMessage" 
                            name="message" 
                            required 
                            maxlength="2000"
                            rows="6"
                            placeholder="Describe your issue or question in detail..."
                            aria-describedby="message-help"
                        ></textarea>
                        <small id="message-help">Please provide as much detail as possible so we can help you quickly (max 2000 characters)</small>
                        <div id="messageCharCount" style="text-align: right; color: var(--neutral-600); font-size: var(--text-sm); margin-top: var(--space-1);">0 / 2000</div>
                    </div>

                    <button type="submit" class="btn btn-primary" id="submitBtn" disabled>
                        Submit Support Ticket üéÅ
                    </button>
                    <div id="submitDelayMessage" style="margin-top: var(--space-2); color: var(--neutral-600); font-size: var(--text-sm); text-align: center;">
                        Please wait a moment before submitting...
                    </div>
                </form>

                <div id="successMessage" class="hidden" style="margin-top: var(--space-6); padding: var(--space-6); background: var(--festive-light-green); border: 2px solid var(--primary-green); border-radius: var(--radius-lg);">
                    <h3 style="color: var(--primary-green); margin-top: 0;">‚úÖ Ticket Submitted Successfully!</h3>
                    <p style="color: var(--neutral-700);">Thank you for contacting us. We've received your support ticket and will get back to you at the email address you provided as soon as possible.</p>
                    <p style="color: var(--neutral-600); font-size: var(--text-sm); margin-top: var(--space-4);">You can close this page or <a href="/" style="color: var(--primary-green);">return to the homepage</a>.</p>
                </div>
            </div>

            <div class="card" style="background: var(--festive-light-green); border: 2px dashed var(--primary-green); margin-top: var(--space-6);">
                <h3 style="color: var(--primary-green); margin-top: 0;">Common Questions</h3>
                <ul style="color: var(--neutral-700);">
                    <li><strong>Can't join a group?</strong> Make sure you have the correct group code and password. Check with your organizer if you're unsure.</li>
                    <li><strong>Forgot your assignment?</strong> Log into your dashboard to see who you're buying for.</li>
                    <li><strong>Need to change something?</strong> If you're the organizer, you can undo the draw and make changes.</li>
                    <li><strong>Email not received?</strong> Check your spam folder. Invites and assignments are sent from santa@holidaydrawnames.com</li>
                </ul>
                <p style="color: var(--neutral-600); margin-top: var(--space-4);">
                    <a href="/how-it-works.html" style="color: var(--primary-green); font-weight: var(--font-weight-semibold);">View our How It Works guide</a> for more information.
                </p>
            </div>
        </main>

        <footer style="text-align: center; padding: var(--space-6); color: white; margin-top: var(--space-10);">
            <p>Made with holiday cheer | Secret Santa 2025 üéÑ</p>
        </footer>
    </div>
</body>
</html>

